<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Tags -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">

  <!-- Page Title -->
  <title>NoMoreScamTricks | Check URL</title>
  <!-- Favicon -->
  <link href="{{ url_for('static', filename='resources/images/shield_tab_icon.png') }}" rel="icon">
  <!-- Bundle -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bundle.min.css') }}">
  <!-- Plugin Css -->
  <link href="{{ url_for('static', filename='css/wow.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/LineIcons.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/jquery.fancybox.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/owl.carousel.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/cubeportfolio.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/line-awesome.min.css') }}" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <!-- Style Sheet -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">


  <style>
    /* body, html {
        height: 100%;
        margin: 0;
        font-family: Arial, sans-serif;
    } */

    section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 150vh;
        font-family: "Montserrat", sans-serif;
    } 

    #inputform {
        display: flex;
        flex-direction: column;
        gap: 10px; /* space between the elements */
        align-items: center;
    }

    #urlInput {
        padding: 5px 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        width: 300px;
        color: black;
    }

    button {
        padding: 7px 15px;
        border: none;
        background-color: #4CAF50;
        color: #fff;
        border-radius: 4px;
        cursor: pointer;
    }

    button:hover {
        background-color: #45a049;
    }

    #resultContainer {
        margin-top: 20px;
        display: flex;
        align-items: center;  
        justify-content: center; 
    }

    #resultDiv {
        display: none; /* Initially hidden */
        padding: 10px;
        /* border: 1px solid #ccc; */
        /* border-radius: 4px; */
        /* background-color: #f9f9f9; */
        color: white;
        font-size: 20px;
        font-weight: 700;
    }

   

    .google-link {
    color: #4285f4; /* Google's blue color */
    font-weight: bold;
    text-decoration: underline;
}

.virus-total-link {
    color: #ff6f61; /* A reddish color, but you can adjust as needed */
    font-weight: bold;
    text-decoration: underline;
}

.urlcheck {
  margin-top: -5%;
  padding-bottom: 0;
  margin-bottom: 0;
}

#matrixCanvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
            }

@keyframes dotPulse {
    0% { content: '.'; }
    33% { content: '..'; }
    66% { content: '...'; }
    100% { content: '.'; }
}

.waitingDots:after {
    content: '...';
    display: inline-block;
    animation: dotPulse 1s infinite;
    margin-left: 5px;
}




</style>

</head>

<body data-spy="scroll" data-target=".navbar" data-offset="50">

  <!-- Start Header -->
  <header id="checkurl">
    <nav class="navbar bg-black navbar-top-default navbar-expand-lg navbar-simple nav-line">
      <div class="container-fluid"> 
          <!-- Navbar items -->
          <div class="collapse navbar-collapse" id="navheader">
              <div class="navbar-nav ml-auto mr-auto">
                <a href="{{ url_for('index') }}" class="navbar-brand mr-4">
                  <img src="{{ url_for('static', filename='resources/images/shield_yellow.png') }}" alt="LOGO IMAGE">
              </a>
                  <a class="nav-link line" data-nav href="{{ url_for('index') }}#home">Home</a>
                  <a class="nav-link line" data-nav href="{{ url_for('scam') }}#scam">Scam Quiz</a>
                  <a class="nav-link line" data-nav href="{{ url_for('detect_scam') }}#detect_scam">Scam Detector Tool</a>
                  <a class="nav-link line" data-nav href="{{ url_for('checkemail') }}#checkemail">Check Email Leak</a>
                  <a class="nav-link line" data-nav href="{{ url_for('checkurl') }}#checkurl">Check URL</a>
                  <a class="nav-link line" data-nav href="{{ url_for('resources') }}#resources">Resources</a>
              </div>
          </div>
      </div>
  </nav>
  </header>
  <!-- End Header -->


  <section class="safety urlcheck" id="urlSafety">
    <div style="height: 1%;">

    </div>
    <div class="container" style="padding-top: -5%;">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8 text-center">
                <div class="heading-area reduced-margin wow zoomIn" data-wow-duration="1s" data-wow-delay=".1s">
                    <div class="main-title mb-0 wow fadeInUp" data-wow-delay="300ms">
                        <h2 class="wow fadeInUp heading" data-wow-delay="400ms">Is the URL safe?</h2>
                    </div>
                    <h5 class="h5-center" style="margin-top: -5px; margin-bottom: 5%;">Before visiting a new website, ensure it's not harmful. 
                        Check its safety here.</h5>
                    <div class="urlinputcontainer d-flex align-items-center justify-content-center mt-3">
                        <input type="url" name="Enter URL" id="urlInput" placeholder="https://example.com">
                    </div>
                    <div class="urlcheck-button mt-3">
                        <a href="javascript:void(0);" onclick="checkURL()" class="scroll btn btn-medium btn-rounded btn-yellow btn-trans btn-margin">Check URL</a>
                    </div>
                    <div id="statusMessage" style="margin-top: 15px;"></div>

                </div>
            </div>
        </div>
    </div>

    <div id="resultContainer" style="margin-bottom: 5%;">
        <div id="resultDiv">Your result here</div>
    </div>
    <div class="container" id="safetySteps" style="display: none;">
        <!-- <h3 style="font-size: 25px; font-weight: bold; color: #ff9900;">Steps to Take for Safety:</h3> -->
        <h1 class="title-h1 fact-percentage" style="font-size: 40px; text-align: center; font-weight: 600; margin-top: 3%; margin-bottom: 2%;">Steps to Take for Safety:</h1>
        <ul style="font-size: 20px;">
            <li>- Do not visit the URL.</li><br>
            <li>- If you've already clicked on the URL, do not provide any personal information or download any files.</li><br>
            <li>- Update your device's security software and run a full scan.</li><br>
            <li>- Always ensure you're using a trusted and secure internet connection.</li><br>
            <li>- If the URL was received via email, do not engage or respond. Mark the email as spam.</li>
        </ul>
    </div>   
    
    <div class="container">
        <h1 class="title-h1 fact-percentage" style="font-size: 40px; text-align: center; font-weight: 600;margin-top: 5%; margin-bottom: 2%;">Sample URLs for Testing</h1>
        <p class="justified-text">Explore these real-world malicious URLs with our tool for testing purposes. However, please note that these URLs are associated with actual scams. Always be cautious and avoid engaging with unfamiliar links.</p>
        <br><br>
        <ul class="example-list" style="padding: 0; list-style-type: none;">
            <li class="justified-text" style="margin-bottom: 2%;">
                <span class="fact-percentage">Phishing URL:</span> http://testsafebrowsing.appspot.com/s/phishing.html
            </li>
            
            <li class="justified-text" style="margin-bottom: 2%;">
                <span class="fact-percentage">Malware URL:</span> http://testsafebrowsing.appspot.com/s/malware.html
            </li>
            
            <li class="justified-text">
                <span class="fact-percentage">Unwanted Software URL:</span> http://testsafebrowsing.appspot.com/s/unwanted.html
            </li>
        </ul>
    </div>
</section>






<script>
    document.addEventListener("DOMContentLoaded", function() {
      const canvas = document.createElement('canvas');
      canvas.id = 'matrixCanvas';
      const section = document.querySelector('#urlSafety');
      canvas.width = section.offsetWidth;
      canvas.height = section.offsetHeight;
      section.appendChild(canvas);
      
      const ctx = canvas.getContext('2d');
      const drops = [];
      const font_size = 16;
      const columns = canvas.width / font_size;
      
      for (let i = 0; i < columns; i++)
        drops[i] = 1;
  
      function drawMatrix() {
        ctx.fillStyle = 'rgba(0, 0, 0, 0.04)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.fillStyle = '#2a2c30';
        ctx.font = font_size + 'px arial';
        
        for (let i = 0; i < drops.length; i++) {
          const text = String.fromCharCode(65 + Math.random() * 33);
          ctx.fillText(text, i * font_size, drops[i] * font_size);
          
          if (drops[i] * font_size > canvas.height && Math.random() > 0.975)
            drops[i] = 0;
          
          drops[i]++;
        }
      }
      
      setInterval(drawMatrix, 33);
    });
  </script>
  
  <script>
    function checkURL() {
    const url = document.getElementById('urlInput').value;
    const statusMessage = document.getElementById('statusMessage');
    const resultDiv = document.getElementById('resultDiv');
    const safetySteps = document.getElementById('safetySteps');

    // Clear the previous result and hide safety steps
    resultDiv.innerHTML = '';
    resultDiv.style.display = 'none';
    safetySteps.style.display = 'none';

    statusMessage.innerHTML = 'Scanning on VirusTotal, Please wait<span class="waitingDots"></span>';

    // Notify user if the scan takes longer than expected
    const notifyTimeout = setTimeout(() => {
        if (statusMessage.innerHTML.includes('Scanning') || statusMessage.innerHTML.includes('Finalizing results')) {
            statusMessage.innerHTML = 'It is taking longer than expected. Please wait a moment longer<span class="waitingDots"></span>';
        }
    }, 10000);  // 10 seconds delay to notify

    setTimeout(() => {
        statusMessage.innerHTML = 'Scanning on Google Safe Browsing, Please wait<span class="waitingDots"></span>';

        fetch('/checkurl', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ url: url })
        })
        .then(response => {
            if (response.ok) {
                return response.json();
            } else {
                throw new Error("Failed to scan on VirusTotal");
            }
        })
        .then(data => {
            clearTimeout(notifyTimeout);  // clear the notification timeout

            setTimeout(() => {
                statusMessage.innerHTML = 'Finalizing results, please wait<span class="waitingDots"></span>';

                let resultText = data.result;

                if (resultText.includes('Google Safe Browsing')) {
                    resultText = resultText.replace('Google Safe Browsing', `<a href="https://transparencyreport.google.com/safe-browsing/search?hl=en" target="_blank" class="google-link">Google Safe Browsing</a>`);
                }

                if (resultText.includes('VirusTotal')) {
                    resultText = resultText.replace('VirusTotal', `<a href="https://www.virustotal.com/gui/home/url" target="_blank" class="virus-total-link">VirusTotal</a>`);
                }

                resultDiv.innerHTML = resultText;
                resultDiv.style.display = 'block';

                if (!resultText.includes('seems safe')) {
                    safetySteps.style.display = 'block';
                } else {
                    safetySteps.style.display = 'none';
                }
                statusMessage.innerHTML = '';

                // Smooth scroll to the result
                resultDiv.scrollIntoView({ behavior: 'smooth' });

            }, 2000); // 2 seconds delay for finalizing results
        })
        .catch(error => {
            clearTimeout(notifyTimeout);  // clear the notification timeout

            console.error('Error:', error);
            statusMessage.innerHTML = 'An error occurred while checking the URL. Please try again later.';
        });

    }, 2000); // 2 seconds delay for Google Safe Browsing
}




  </script>
  
  
  






  <!-- Start Footer -->
  <footer class="footer bg-black">
    <div class="container">
        <div class="row align-items-center">
          <!-- Social -->
          <!-- Text -->
          <div class="col-12 text-center mt-3" style="top: 80px;">
            <p class="company-about fadeIn">© 2023 Made By <a href="javascript:void(0);">Team Code for Good</a></p>
            <!-- Contact us -->
            <p class="contact-us">Contact us: &nbsp;<a href="mailto:fit5120team27@gmail.com"><i class="fas fa-envelope"></i> fit5120team27@gmail.com</a></p>
          </div>
        </div>
      </div>
  </footer>
  <!-- End Footer -->
  

  <!-- Start Scroll Top -->
  <div class="go-top"><i class="fas fa-angle-up"></i><i class="fas fa-angle-up"></i></div>
  <!-- End Scroll Top -->

  <!-- JavaScript -->
  <script src="{{ url_for('static', filename='js/bundle.min.js') }}"></script>

  <!-- Plugin Js -->
  <script src="{{ url_for('static', filename='js/jquery.appear.js') }}"></script>
  <script src="{{ url_for('static', filename='js/morphext.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/parallaxie.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jquery.cubeportfolio.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/wow.min.js') }}"></script>

  <!-- CUSTOM JS -->
  <script src="{{ url_for('static', filename='js/contact_us.js') }}"></script>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>

</html>