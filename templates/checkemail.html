<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta Tags -->
        <meta charset="utf-8">
        <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
        
        <!-- Page Title -->
        <title>NoMoreScamTricks | Check Email Leak</title>
        <!-- Favicon -->
        <link href="{{ url_for('static', filename='resources/images/shield_tab_icon.png') }}" rel="icon">
        <!-- Bundle -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/bundle.min.css') }}">
        <!-- Plugin Css -->
        <link href="{{ url_for('static', filename='css/wow.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/LineIcons.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/jquery.fancybox.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/owl.carousel.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/cubeportfolio.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/line-awesome.min.css') }}" rel="stylesheet">
    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
        <!-- Style Sheet -->
        <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet">
        <style>
            .emailcheck {
                margin-top: -5%;
            }

        </style>
    </head>
    
    <body data-spy="scroll" data-target=".navbar" data-offset="50">
    
    <!-- Start Header -->
    <header id="checkemail">
        <nav class="navbar bg-black navbar-top-default navbar-expand-lg navbar-simple nav-line">
            <div class="container-fluid"> 
                <!-- Navbar items -->
                <div class="collapse navbar-collapse" id="navheader">
                    <div class="navbar-nav ml-auto mr-auto">
                      <a href="{{ url_for('index') }}" class="navbar-brand mr-4">
                        <img src="{{ url_for('static', filename='resources/images/shield_yellow.png') }}" alt="LOGO IMAGE">
                    </a>
                        <a class="nav-link line" data-nav href="{{ url_for('index') }}#home">Home</a>
                        <a class="nav-link line" data-nav href="{{ url_for('scam') }}#scam">Scam Quiz</a>
                        <a class="nav-link line" data-nav href="{{ url_for('detect_scam') }}#detect_scam">Scam Detector Tool</a>
                        <a class="nav-link line" data-nav href="{{ url_for('checkemail') }}#checkemail">Check Email Leak</a>
                        <a class="nav-link line" data-nav href="{{ url_for('checkurl') }}#checkurl">Check URL</a>
                        <a class="nav-link line" data-nav href="{{ url_for('resources') }}#resources">Resources</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>
<!-- End Header -->

<!-- Title -->
<section class="safety emailcheck overflow-hidden vh-100 d-flex align-items-center" id="safety">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8 text-center">
                <div class="heading-area reduced-margin wow zoomIn" data-wow-duration="1s" data-wow-delay=".1s">
                    <div class="main-title mb-0 wow fadeInUp" data-wow-delay="300ms">
                        <h2 class="wow fadeInUp heading" data-wow-delay="400ms">Are your accounts safe?</h2>
                    </div>
                    <h5 class="h5-center" style="margin-top: -5px; margin-bottom: 5%;">Every year, millions of email addresses are dumped on the internet by various leaks. 
                        Is your account safe?</h5>
                    <div class="emailinputcontainer d-flex align-items-center justify-content-center mt-3">
                        <input type="email" name="Enter your Email" id="emailinput" placeholder="Enter your email address">
                    </div>
                    <div class="leakcheck-button mt-3" style="margin-bottom: 5%;">
                        <a href="javascript:void(0);" onclick="checkSafety()" class="scroll btn btn-medium btn-rounded btn-yellow btn-trans btn-margin">Check for Leaks</a>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="result-display scamResultText mt-3" id="emailResult" style="display: none; color: red; font-size: 25px; font-weight: 500; margin-top: 5%; font-family: 'Montserrat', sans-serif;"></div>
        <div style="display: flex; align-items: baseline; margin-top: 5%; flex-direction: row; flex-wrap: nowrap; justify-content: center;"> <!-- flex container starts here -->

            <div class="protect-info mt-2" id="protectInfo" style="display: none; margin-right: 20px;"> <!-- added margin-right for spacing -->
                <p style="font-size: 20px; font-weight: 700; margin-top: 5%; margin-bottom: 0;">If your email is compromised, follow Google's recommended steps:</p>
            </div>
        
            <div class="stepsbutton mt-3" id="protectButton" style="display: none;">
                <a href="https://support.google.com/accounts/answer/46526?hl=en" target="_blank" rel="noopener noreferrer" class="btn btn-medium btn-rounded btn-yellow btn-trans btn-margin">Learn How to Protect Your Email</a>
            </div>
        
        </div> 
        
    </div>
</section>




<!-- End Title -->


<script>
    function checkSafety() {
    const email = document.getElementById('emailinput').value;

    // Validate email address using simple regex
    if (!email.match(/^\S+@\S+\.\S+$/)) {
        alert("Please enter a valid email address.");
        return;
    }

    fetch('/checkemail', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email: email })
    })
    .then(response => response.json())
    .then(data => {
        const resultDiv = document.getElementById('emailResult');
        const protectButton = document.getElementById('protectButton');
        const protectInfo = document.getElementById('protectInfo');  // Get the reference of the new info div
        resultDiv.style.display = 'block'; 
        resultDiv.innerText = data.result;
        resultDiv.style.color = data.color;
        
        console.log("Setting display of protectButton to:", (data.result.startsWith('Oh No!') ? 'block' : 'none'));
        protectButton.style.display = data.result.startsWith('Oh No!') ? 'block' : 'none';
        console.log("Display of protectButton is now:", protectButton.style.display);


        // Check if the message starts with "Oh No!" to determine if the email is leaked
        if (data.result.startsWith('Oh No!')) {
            protectButton.style.display = 'block';
            protectInfo.style.display = 'block';  // Show the info div
        } else {
            protectButton.style.display = 'none';
            protectInfo.style.display = 'none';  // Hide the info div
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}



</script>









<!-- Start Footer -->
<footer class="footer bg-black">
    <div class="container">
        <div class="row align-items-center">
            <!--Social-->
            <!--Text-->
            <div class="col-12 text-center mt-3" style="top: 80px;">
                <p class="company-about fadeIn">Â© 2023 Made By <a href="javascript:void(0);">Team Code for Good</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<!-- End Footer -->

<!-- Start Scroll Top -->
<div class="go-top"><i class="fas fa-angle-up"></i><i class="fas fa-angle-up"></i></div>
<!-- End Scroll Top -->

<!-- JavaScript -->
<script src="{{ url_for('static', filename='js/bundle.min.js') }}"></script>

<!-- Plugin Js -->
<script src="{{ url_for('static', filename='js/jquery.appear.js') }}"></script>
<script src="{{ url_for('static', filename='js/morphext.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/parallaxie.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.cubeportfolio.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/wow.min.js') }}"></script>

<!-- CUSTOM JS -->
<script src="{{ url_for('static', filename='js/contact_us.js') }}"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>

</body>
</html>